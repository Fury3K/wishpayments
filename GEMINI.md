# WishPay - Project Context

## Project Overview
**WishPay** is a financial goal tracking application designed to help users manage their money by distinguishing between "Needs" (necessities) and "Wants" (wishes). It features a virtual wallet, bank account tracking, and goal-oriented savings progress.

## Tech Stack
*   **Framework:** [Next.js 16](https://nextjs.org/) (App Router)
*   **Language:** [TypeScript](https://www.typescriptlang.org/)
*   **Styling:** [Tailwind CSS v4](https://tailwindcss.com/) & [DaisyUI v5](https://daisyui.com/)
*   **Database:** [PostgreSQL](https://www.postgresql.org/)
*   **ORM:** [Drizzle ORM](https://orm.drizzle.team/) (using `postgres` driver)
*   **Authentication:** Custom JWT implementation using `jose` and `bcryptjs`.
*   **Icons:** [Lucide React](https://lucide.dev/)

## Architecture & Key Directories
*   `app/`: Main application source (Next.js App Router).
    *   `app/api/`: API routes for backend logic (Auth, Items, Banks, User).
    *   `app/components/`: Reusable UI components (Modals, Cards, Nav).
    *   `app/dashboard/`: Main user dashboard page.
*   `lib/`: Shared utilities.
    *   `db.ts`: Database connection initialization.
    *   `schema.ts`: Drizzle ORM schema definitions.
    *   `auth.ts`: Authentication utilities.
*   `drizzle/`: Database migration files generated by Drizzle Kit.
*   `public/`: Static assets.

## Building and Running

### Prerequisites
*   Node.js (v18+)
*   PostgreSQL Database URL

### Setup & Installation
1.  **Install dependencies:**
    ```bash
    npm install
    ```
2.  **Environment Variables:**
    Ensure `.env` contains:
    ```env
    DATABASE_URL=postgresql://user:pass@host:port/db_name
    JWT_SECRET=your_secret
    ```

### Database Management
*   **Generate Migrations** (after changing `lib/schema.ts`):
    ```bash
    npm run db:generate
    ```
*   **Apply Migrations**:
    ```bash
    npm run db:migrate
    ```

### Development
*   **Start Dev Server:**
    ```bash
    npm run dev
    ```
    Access at `http://localhost:3000`.

### Production
*   **Build:**
    ```bash
    npm run build
    ```
*   **Start:**
    ```bash
    npm run start
    ```

## Development Conventions
*   **Styling:** Use Tailwind utility classes. Leverage DaisyUI components for consistent UI elements (buttons, modals, inputs).
*   **State Management:** React hooks (`useState`, `useEffect`, `useContext`) are used for local state.
*   **API Interaction:** `axios` is used for making API calls to internal `app/api` routes.
*   **Types:** Core interfaces (like `Item`) are defined in `app/types.ts`.
*   **Modals:** Modals are implemented as separate components in `app/components/modals/` and controlled via state in parent pages.

## Recent Changes & Notes
*   **Bank Accounts:** Added support for multiple bank accounts with customizable colors (including Red, Pink, Cyan, Yellow).
*   **UI/UX:** Dashboard features a swipeable card interface for wallets and bank accounts.
